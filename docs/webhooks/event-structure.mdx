---
title: "Event Structure"
---

All our webhook events have the following standard structure:

* A top-level `event_type` field, specifying the payload type contained in the `data` field.
* A top-level `data` field containing the event-specific payload.

Schemas and examples are available through [the Event Catalog tab in the Webhooks section of our Web app](https://app.tryvital.io).

<CodeGroup>
```json Basic event structure
{
  "data": {
    # ... event specific data
  },
  "event_type": "daily.data.glucose.created"
}
```
```json Example: Provider connection created
{
  "data": {
    "source": {
      "logo": "https://storage.googleapis.com/vital-assets/freestyle.png",
      "name": "Freestyle Libre BLE",
      "slug": "freestyle_libre_ble"
    },
    "user_id": "4a29dbc7-6db3-4c83-bfac-70a20a4be1b2"
  },
  "event_type": "provider.connection.created"
}
```
</CodeGroup>

## Wearable data events

Wearable data events have the following extended standard structure:

* An event type field for differentiating the payload contained in the data field. (JSON path: `$.event_type`)
* A data field, which comprises of:
   * The UUID of the Vital user for which this event is intended — note that this is not the `client_user_id` of the Vital user. (JSON path: `$.data.user_id`)
   * The metadata about the data source of this event (JSON path: `$.data.source`)
      * `name`: The human-readable name of the source
      * `slug`: The stable identifier Vital assigned to the source — see [Supported providers](/wearables/providers/introduction) for the complete list.
      * `logo`: The URL to an icon representing the source.
   * Any number of event-specific fields.


```json Wearable data event structure
{
  "data": {
    # ... event specific fields

    # Common wearable data event fields
    "source": {
      "logo": "https://path/to/example",
      "name": "Fitbit",
      "slug": "fitbit"
    },
    "user_id": "4a29dbc7-6db3-4c83-bfac-70a20a4be1b2"
  },
  "event_type": "daily.data.glucose.created"
}
```

### Summary types

Each time a [summary object](/wearables/providers/resources) is created or updated, Vital emits a data event for the occurrence.
The object is made available directly at the top-level `data` field (JSON path: `$.data`), alongside the standard fields listed above.

<Warning>Summary types are uniquely identified by its `id`. If multiple events are received at the same `id`, the last event replaces all its previous versions.</Warning>

<CodeGroup>
```json Summary data event structure
{
  "data": {
    # ... All summary object fields

    # Common wearable data event fields
    "source": {
      "logo": "https://path/to/example",
      "name": "Fitbit",
      "slug": "fitbit"
    },
    "user_id": "4a29dbc7-6db3-4c83-bfac-70a20a4be1b2"
  },
  "event_type": "daily.data.activity.created"
}
```

```json Example: Activity updated
{
  "data": {
    "calendar_date": "2023-05-17",
    "calories_active": 134,
    "calories_total": 1006,
    "daily_movement": 1162,
    "date": "2023-05-17T00:00:00+00:00",
    "distance": 1162,
    "floors_climbed": 2,
    "high": null,
    "id": "715dd6a5-0c67-471c-b5fe-9681a980a2c2",
    "low": null,
    "medium": null,
    "steps": 1496,
    "timezone_offset": 3600,

    # Common wearable data event fields
    "source": {
      "logo": "https://storage.googleapis.com/vital-assets/apple_health.png",
      "name": "Apple HealthKit",
      "slug": "apple_health_kit"
    },
    "user_id": "4a29dbc7-6db3-4c83-bfac-70a20a4be1b2"
  },
  "event_type": "daily.data.activity.updated"
}
```
</CodeGroup>

### Timeseries types (except for Workout Streams)

Each time a batch of [timeseries samples](/wearables/providers/resources) has been created or updated, Vital emits a data event for the batch of samples.
The samples are made available under an inner `data` field under the top-level `data` field (JSON path: `$.data.data`).

<Warning>Each sample can be uniquely identified by a 3-tuple of its type, its source (ID or slug) and its timestamp. If multiple samples are received at
the same tuple, the last sample replaces all its previous versions.</Warning>

<Info>While most types of timeseries data are immutable, there are some exceptions from specific timeseries types from certain sources, where the data
are aggregated using some form of time-based bucketing. Therefore, this creates a scenario where the value of a specific time bucket may or may not
be updated multiple times, based on the dynamic synchronization timings between the device, the source and Vital data pipelines. This is why 
the aforementioned deduplication semantic is specified.</Info>

<CodeGroup>
```json Timeseries data event structure
{
  "data": {
    "data": [
      {
        "timestamp": "2023-05-16T10:00:00+00:00",
        "timezone_offset": 3600,
        "type": "automatic",
        "unit": "count",
        "value": 237
      },
      {
        "timestamp": "2023-05-16T11:00:00+00:00",
        "timezone_offset": 3600,
        "type": "automatic",
        "unit": "count",
        "value": 451
      },
      # ... other timeseries samples in the batch
    ],
    "source_id": 16,

    # Common wearable data event fields
    "source": {
      "logo": "https://storage.googleapis.com/vital-assets/apple_health.png",
      "name": "Apple HealthKit",
      "slug": "apple_health_kit"
    },
    "user_id": "4a29dbc7-6db3-4c83-bfac-70a20a4be1b2"
  },
  "event_type": "daily.data.steps.created"
}
```

```json Example: Calories Active created
{
  "data": {
    "data": [
      {
        "timestamp": "2023-05-17T07:00:00+00:00",
        "timezone_offset": 3600,
        "type": "",
        "unit": "kcal",
        "value": 39.518054167148996
      },
      {
        "timestamp": "2023-05-17T08:00:00+00:00",
        "timezone_offset": 3600,
        "type": "",
        "unit": "kcal",
        "value": 31.270257990822234
      },
      {
        "timestamp": "2023-05-17T09:00:00+00:00",
        "timezone_offset": 3600,
        "type": "",
        "unit": "kcal",
        "value": 5.733999999999999
      }
    ],
    "source_id": 16,

    # Common wearable data event fields
    "source": {
      "logo": "https://storage.googleapis.com/vital-assets/apple_health.png",
      "name": "Apple HealthKit",
      "slug": "apple_health_kit"
    },
    "user_id": "4a29dbc7-6db3-4c83-bfac-70a20a4be1b2"
  },
  "event_type": "daily.data.calories_active.created"
}
```
</CodeGroup>

### Workout Streams

While Workout Streams are classified as a timeseries type, it contains a huge amount of timeseries data
which cannot be delivered by our webhook message transport.

So events for Webhook Streams are shallow, with only some minimal metadata about the workout. Successful
reception of the event indicates that the data are available to be read via our REST API,
e.g., [the Workout Stream endpoint](/api-reference/workouts/get-stream) `GET /v2/timeseries/workouts/{workout_id}/stream`.

```json Workout Stream created
{
  "data": {
    "message": "Due to payload size limits, to access the workout stream, please use the /workouts/edc80dd0-8cc8-4ec8-8b80-931fd9a3309a/stream endpoint.",
    "provider_id": "51278201336",
    "source": {
      "logo": "https://storage.googleapis.com/vital-assets/fitbit.png",
      "name": "Fitbit",
      "slug": "fitbit"
    },
    "sport": {
      "id": 57,
      "name": "Other",
      "slug": "other"
    },
    "user_id": "bf6222fb-3b81-4201-9630-118bfee01e03",
    "workout_id": "fdc70dd0-8cc8-4ec8-8b80-121fd9a3302a"
  },
  "event_type": "daily.data.workout_stream.created"
}
```